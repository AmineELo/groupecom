<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from aqvatarius.com/themes/taurus_v12/html/index.html by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 22 Apr 2016 10:51:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>Groupe COM | Centre de formation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="icon" type="image/ico" href="favicon.html"/>
    <link href="<?php echo base_url()?>css/styles_cat.css" rel="stylesheet" type="text/css" />
    <link href="<?php echo base_url()?>css/stylesheets.css" rel="stylesheet" type="text/css" />


    <link href="<?php echo base_url()?>quizz_assets/css/bootstrap-slider.css" type="text/css" rel="stylesheet" media="screen" />
    <link href="<?php echo base_url()?>quizz_assets/css/questionnaire.css" type="text/css" rel="stylesheet" media="screen" />


    <script type="text/javascript"  src="<?php echo base_url()?>quizz_assets/js/jquery.js"></script>
    <script type="text/javascript"  src="<?php echo base_url()?>quizz_assets/js/bootstrap-slider.js"></script>
    <script type="text/javascript" src="<?php echo base_url()?>quizz_assets/js/908ffc2.js"></script>
    <script type='text/javascript' src='<?php echo base_url()?>js/plugins/bootstrap/bootstrap.min.js'></script>
</head>

<body class="wall-num10" data-settings="open" style="">

    <div class="container container- theme-black container-fixed" >
<?php
$this->load->view('include/navigation.php');
?>


<div class="row " >
  <div class=" col-md-12 breadcrumb" style="background-color:rgba(0,0,0,0.5);">
    <div class="progress questionnaire" style="background-color:rgba(0,0,0,0.3);" >
      <div class="quizz-progress-bar progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <spam class="nbquestion">0</spam>/8
      </div>
      <div class="quizz-progress-bar-max progress-bar progress-bar-success" style="width: 0%"></div>
    </div>


<style>
.btn.active{
  color:#59AD2F;
}
</style>
    <div id="Carousel" class="carousel slide">
      <div class="carousel-inner">


        <div class="item active no-next no-prev">
          <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
           <img src="<?php echo base_url()?>img/logo_gc_medium.png" style="margin:10px 0; max-height:100px; max-width: 150px;" />
            <h3 class="cover-heading">Vous etes vers le bon sens !</h3>
			<p class="lead">Tu es en 3ème et tu te demandes ce que tu vas faire l’an prochain.<br />
				Cliquer sur le boutton pour démarer le QCM  </p><br />
            <p class="lead">
              <a href="#" class="debut btn" > <i class="fa fa-chevron-right fa-fw fa-3x"></i></a>
            </p>

          </div>
        </div>



        <div class="item">
          <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
            <h3 class="cover-heading">Question à choix unique... <br />
            Connaissez vous Hamza frikhi</h3>
            <div class="single" data-question="hamzafrikhi">
                            <a href="#" style="display: block; white-space:normal;" data-reponse="1111ddd" class="btn btn-block  btn-single"><i class="fa fa-check"></i><span>Oui, très bien</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="amineelouattar1" class="btn btn-block  btn-single"><i class="fa fa-check"></i><span>Oui, sans plus</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="amineelouattar2" class="btn btn-block  btn-single"><i class="fa fa-check"></i><span>Non, pas du tout</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="amineelouattar2" class="btn btn-block  btn-single"><i class="fa fa-check"></i><span>Non, pas du tout</span></a>
             </div>
          </div>
        </div>




        <div class="item">
            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
              <h3 class="cover-heading">Une évaluation 2... </h3>
              <div class="single" data-question="69416">
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                                <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>
              </div>
            </div>
        </div>


        <div class="item">
            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
              <h3 class="cover-heading">Une évaluation 3... </h3>
              <div class="single" data-question="69416">
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>

              </div>
            </div>
        </div>

      <div class="item">
          <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
            <h3 class="cover-heading">Une évaluation 4... </h3>
            <div class="single" data-question="69416">
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>

            </div>
          </div>
      </div>

		  <div class="item">
          <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
            <h3 class="cover-heading">Une évaluation 5... </h3>
            <div class="single" data-question="69416">
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                            <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>
            </div>
          </div>
        </div>


        <div class="item">
            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
              <h3 class="cover-heading">Une évaluation 6... </h3>
              <div class="single" data-question="69416">
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>

              </div>
            </div>
        </div>

        <div class="item">
            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
              <h3 class="cover-heading">Une évaluation 7... </h3>
              <div class="single" data-question="69416">
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>

              </div>
            </div>
        </div>
        <div class="item">
            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
              <h3 class="cover-heading">Une évaluation 8... </h3>
              <div class="single" data-question="69416">
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201655" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 1</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201656" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 2</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 3</span></a>
                              <a href="#" style="display: block; white-space:normal;" data-reponse="201657" class="btn btn-block btn-single"><i class="fa fa-check"></i><span>ev 4</span></a>

              </div>
            </div>
        </div>





        <div class="item no-next">
          <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                                                            <img src="quizz_assets/../d2pl8wys3jyn0k.cloudfront.net/5719f72bb86fa.png" style="margin:10px 0; max-height:100px; max-width: 150px;" />
                                                      <h3 class="cover-heading">Fin du questionnaire</h3>
            <p class="lead">Le questionnaire est terminé, merci de le valider</p><br />
            <p class="lead">
              <form method="post" class="form-horizontal" action="">
                <input type="hidden" id="plato_show_form_result" name="plato_show_form_result"/>
                <button data-loading-text="<i class='fa-fw fa fa-ellipsis-h fa-spin'></i> Envoi en cours..." type="submit" class="fin btn btn-envoi  btn-block ">Valider l&#039;envoi</button>
              </form>
            </p>
          </div>
        </div>
      </div>

  <div class="row" style="margin-top:20px; ">
  <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                <div class="prevnext pull-left"><a href="#" style="display: block; white-space:normal;" class="prev btn " data-toggle="button" aria-pressed="false" autocomplete="off"><i class="fa fa-chevron-left"></i><span>Précédent</span></a></div>
                <div class="prevnext pull-right"><a href="#" style="display: block; white-space:normal;" class="next btn " data-toggle="button" aria-pressed="false" autocomplete="off"><span>Suivant</span><i class="fa fa-chevron-right"></i></a></div>
  </div>
  </div>

    <br /><br /><h3 class="copy"><a traget href="http://www.groupecom.com" class="qys_link" style="color:white">Quiz</a><small style="color:white"> par GroupeCOM</small></h3>
    </div>
    </div>
    </div>
   </div>
  </body>










<script type="text/javascript">




var questionnaire_id = <?php echo $id_quizz;  ?>;
var result = "";
var progress_val = 0;
var progress_val_visu = 0;
var progress_val_max = 0;
var action = null;
var matriceType = "slider";


(function($) {

var resultatArrayObject = [];
var profilObject = new Object();
var questionnaireObject = new Object();
var localStorage;

  $.fn.setStorage = function(key, value) {
    try {
      localStorage = window.localStorage;
    } catch(e) {
      // Access denied :-(
    }

    try {
      localStorage.setItem(key, value);
    } catch(e) {
        // Storage full, maybe notify user or do some clean-up
    }

  }


  $.fn.progress = function() {
    if (progress_val_max == progress_val && progress_val_visu < 8)
    {
      progress_val_max = progress_val_max + 12.5;
    }
    progress_val = progress_val + 12.5;
    progress_val_visu = progress_val_visu + 1;
    var bar = $('.quizz-progress-bar');
    bar.css('width',progress_val+'%');
    bar.attr('aria-valuenow',Math.floor(progress_val_visu));
    var bar_max = $('.quizz-progress-bar-max');
    bar_max.css('width',(progress_val_max - progress_val) +'%');
    $('.nbquestion').text(Math.floor(progress_val_visu));
  };


  $.fn.regress = function() {
    if(progress_val_visu > 0){
      progress_val = progress_val - 12.5;
      progress_val_visu = progress_val_visu - 1 ;
    }
    var bar = $('.quizz-progress-bar');
    bar.css('width',progress_val+'%');
    bar.attr('aria-valuenow',Math.floor(progress_val_visu));
    var bar_max = $('.quizz-progress-bar-max');
    bar_max.css('width',(progress_val_max - progress_val) +'%');
    $('.nbquestion').text(Math.floor(progress_val_visu));
  };

  $.fn.progressColor = function() {
    var bar = $('.quizz-progress-bar');
    var bar_max = $('.quizz-progress-bar-max');
    if (progress_val_visu == 0) {
      bar.css('padding-left','10px');
      bar_max.css('margin-right','-10px');
      if (progress_val_max == progress_val){
        bar.css('opacity','0');
//        bar.css('background-color','#fff');
      }
      else {
        bar.css('opacity','0.2');
//        bar.css('background-color','#8FCF3C');
      }
    }
    else {
      bar.css('padding-left','0');
//      bar.css('background-color','#8FCF3C');
      bar_max.css('margin-right','0');
      bar.css('opacity','1');
    }
  };

  $.fn.show_hide_prev_next = function() {
    if ($('.carousel .carousel-inner .item.active').hasClass('no-prev'))
    { $('.prevnext .prev').hide(); }
    else
    { $('.prevnext .prev').show(); }

    if ($('.carousel .carousel-inner .item.active').hasClass('no-next'))
    { $('.prevnext .next').hide(); }
    else
    { $('.prevnext .next').show(); }

    $('.prevnext .prev').removeClass('active');
    $('.prevnext .next').removeClass('active');
    $('.prevnext .next').removeClass('inactive');
    action = null;

    $.fn.beforeResult();
  };

  $.fn.singleQuestion = function() {
    var active = false;
    var obj = $(this);

    grp_obj = obj.parent();
    grp_obj.children().each( function(){
      $(this).removeClass('active');
    });

    if(obj.hasClass("open_in_mix")){
      if(obj.children('input').val().length > 0){
        obj.addClass('active');
      }
    }
    else{
      obj.addClass('active');
      grp_obj.children('.open_in_mix').children('input').val("");
    }
    $('.prevnext .next').removeClass('inactive');
    if (obj.hasClass('next') == true){
      if (action == null){
        $.fn.saveResultArray();
        action = 'next';
        $('.carousel').carousel('next');
      }
    }
    else{
      $.fn.beforeResult();
    }
  }





  $.fn.beforeResult = function() {
    question = $(".item.active").children().children();
    if (question.hasClass('single') == true || question.hasClass('multi') == true)
    {
      $('.prevnext .next').addClass('inactive');
      question.children().each( function(){
        if ($(this).hasClass('active')==true){
          $('.prevnext .next').removeClass('inactive');
        }
      });
    }
    if (question.hasClass('matrice') == true)
    {
      if(matriceType == "slider") {$.fn.sliderInit();}
    }
    if (question.hasClass('echelle') == true)
    {
      rating = question.children('.form-group').children('span');
      if (rating.hasClass('rating-star') == true || rating.hasClass('rating-heart') == true || rating.hasClass('rating-smile') == true)
      {
        $('.prevnext .next').addClass('inactive');
        //alert(parseInt(question.children().children('input').val()));
        if(parseInt(question.children().children('input').val()) > 0){
          $('.prevnext .next').removeClass('inactive');
        }
      }
      else {
        if(matriceType == "slider") {$.fn.echelleSliderInit();}
      }
    }
  }


  $.fn.nextQuestion = function() {
    var link = $(this);
    if (link.hasClass('inactive')){
      return;
    }

    if (action == null){
      link.addClass('active');
 //     $.fn.progress();
      $.fn.saveResultArray();
 //     $.fn.SetQuestionnnaire();
      action = 'next';
      $('.carousel').carousel('next');
    }
  };

  $.fn.debut = function() {
    $('.carousel').carousel('next');
    profilObject.identifiant = "";
    profilObject.courriel = "";
    $.fn.setStorage("profil", JSON.stringify(profilObject));
    $('.progress').show();
    $.fn.progressColor();

      };

  $.fn.prevQuestion = function() {
    var link = $(this);
    if (action == null){
      link.addClass('active');
      action = 'prev';
      $('.carousel').carousel('prev');
    }
  };


  $.fn.fin = function() {
    var button = $(this);
    button.button('loading');
    var resultFinal = new Object;


    resultFinal.questionnaire = questionnaireObject;
    resultFinal.resultat = resultatArrayObject;
    $("#plato_show_form_result").val(JSON.stringify(resultFinal));
    $(".prevnext").hide();
    alert ($("#plato_show_form_result").val());
  };
//ici
  $.fn.SetQuestionnnaire = function() {
    var i = 0;
    $('.carousel-inner').children('.item').each(function(){
      i++;
      if ( $(this).hasClass('active') == true){
        return false;
      }
    });
    questionnaireObject.itemLast = i ;
    questionnaireObject.itemMax = $('.carousel-inner').children('.item').length;
    questionnaireObject.id = questionnaire_id ;
    questionnaireObject.progress_val = progress_val;
    questionnaireObject.progress_val_visu = progress_val_visu;
    questionnaireObject.progress_val_max = progress_val_max;
    $.fn.setStorage("questionnaire", JSON.stringify(questionnaireObject));
  };


  $.fn.saveResultArray = function() {
    var questionObject = new Object();
    question = $(".item.active").children().children('[data-question]');
    question_id = question.attr('data-question');

    if (question.hasClass('single') == true || question.hasClass('multi') == true){
      var reponses = [];
      questionObject.question = question_id;

      var i = 0;
      question.children().each( function(){
        if ($(this).hasClass('active') == true){
          if (question.hasClass('single') == true){
            questionObject.type = 'single';
          }else if (question.hasClass('multi') == true){
            questionObject.type = 'multi';
          }
          if($(this).hasClass("open_in_mix")) {
            reponses[i++] = $(this).children('input').val();
//            reponseObject.type = "open";
          }
          else {
            reponses[i++] = parseInt($(this).attr('data-reponse'));
//            reponseObject.type = "fix";
          }
        }
        if($(this).hasClass("commentaire_in_mix") && $(this).children('input').val().length > 0) {
          reponses[i++] = $(this).children('input').val();
        }

      });
      questionObject.reponses = reponses;
    }
    else if (question.hasClass('echelle') == true){
      var reponse = 0;

        if (question.children('.form-group').children('div').hasClass('rating-slider')==true){
        reponse = parseInt(question.children('.form-group').children('.rating-slider').children('input').val());
        }
        else if (question.children('.form-group').children('div').hasClass('rating-spinner')==true){
          reponse = parseInt(question.children('.form-group').children('div').children('.input-group').children('input').val());
        }
        else
        {
          reponse = parseInt(question.children('.form-group').children('input').val());
        }
      questionObject.question = question_id;
      questionObject.reponses = reponse;
      questionObject.type = 'echelle';
    }
    else if (question.hasClass('matrice') == true){
      var reponses = {};

      question.children('.form-group').each( function(){
        if(matriceType == "slider") {
        reponses[String ($(this).children('.matrice-slider').children('input').attr('data-slider-id'))] = parseInt($(this).children('.matrice-slider').children('input').val());
        }
        else {
          reponses[$(this).children('.matrice-spinner').children('.input-group').children('input').attr('id')]= parseInt($(this).children('.matrice-spinner').children('.input-group').children('input').val());
        }
      });
      questionObject.question = question_id;
      questionObject.reponses = reponses;
      questionObject.type = 'matrice';
    }
    else if (question.hasClass('open') == true){
      textarea = question.children().children().children('textarea.open');
      questionObject.question = question_id;
      questionObject.reponses = textarea.val();
      questionObject.type = 'open';
    }

    var resultatArrayObjectOld = resultatArrayObject;
    resultatArrayObject = [];
    var j=0;
    $.each(resultatArrayObjectOld, function (key,qObject){
      if(qObject.question == questionObject.question){
        resultatArrayObject.push(questionObject); j=1;
      }
      else{
        resultatArrayObject.push(qObject);
      }
    });
    if (j==0){
      if(!$.isEmptyObject(questionObject)){
        resultatArrayObject.push(questionObject);
      }
    }
    $.fn.setStorage("resultat", JSON.stringify(resultatArrayObject));
    $.fn.SetQuestionnnaire();
  }

  $.fn.reloadMessage = function() {

    $('#modal').html('<div class="modal-backdrop" ></div><div class="modal-dialog choice_modal">'+
  '<div class="modal-content">'+
  '  <div class="modal-header">'+
  '    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>'+
  '    <h4 class="modal-title">Le questionnaire a été arrété avant son terme</h4>'+
  '  </div>'+
  '  <div class="modal-body" style="text-align:center; padding:20px">'+
  '  <p>Vous pouvez poursuivre le questionnaire ou reprendre à zéro</p>'+
  '    <a class="btn btn-success remove"   href="#" ><i class="fa fa-fw fa-repeat"></i> Recommencer</a>'+
  '    <a class="btn btn-success reload"  href="#" >Poursuivre <i class="fa fa-fw fa-chevron-right"></i></a>'+
  '  </div>'+
  '  <div class="clearfix"></div>'+
  '</div>'+
  '</div>');
    $('#modal').modal('show');
    return false;
  }




  $.fn.removeStorage = function() {
    try {
      localStorage = window.localStorage;
    } catch(e) {
        return false
    }

    try {
      localStorage.clear();
    } catch(e) {
        return false
    }
  }

  $.fn.getStorage = function(item) {
    try {
      localStorage = window.localStorage;
    } catch(e) {
        return false
    }

    try {
      return localStorage.getItem(item);
    } catch(e) {
        return false
    }
  }

  $.fn.reloadResult = function() {
    profilObject = JSON.parse($.fn.getStorage("profil"));
    resultatArrayObject = JSON.parse($.fn.getStorage("resultat"));

    // injection des données
    if (resultatArrayObject){
    $.each(resultatArrayObject, function (key,questionObject){
      $('.carousel-inner').children('.item').each(function(){
        question = $(this).children().children('[data-question]');
        if (question.attr('data-question') == questionObject.question && question.hasClass(questionObject.type) == true){

          if (questionObject.type == "open"){
            textarea = question.children().children().children('textarea.open');
            textarea.val(questionObject.reponses);
          }
          if (questionObject.type == "echelle"){
            if (question.children('.form-group').children('div').hasClass('rating-slider')==true){
              question.children('.form-group').children('.rating-slider').children('input').slider('setValue', questionObject.reponses);
              question.children('.form-group').children('.slider-val').text(questionObject.reponses);
            }
            else if (question.children('.form-group').children('div').hasClass('rating-spinner')==true){
              question.children('.form-group').children('div').children('.input-group').children('input').val(questionObject.reponses);
            }
            else
            {
              question.children('.form-group').children('input').val(questionObject.reponses);
              question.children('.form-group').children('span').children('span').each(function(key, element){
                if (question.children('.form-group').children('span').hasClass('rating-heart')==true || question.children('.form-group').children('span').hasClass('rating-star')==true){
                  if (5-questionObject.reponses == key){
                    $(element).addClass('active');
                  }
                }
                else if (question.children('.form-group').children('span').hasClass('rating-smile')==true ){
                  if (questionObject.reponses - 1 == key){
                    $(element).addClass('active');
                  }
                }
              });
            }
          }
          if (questionObject.type == "single" || questionObject.type == "multi"){
            var reponses = [];
            reponses = questionObject.reponses ;
            $.each(reponses, function (key,reponse){
              question.children().each( function(){
                if(typeof reponse === 'string' && $(this).hasClass("open_in_mix") ){
                  $(this).addClass('active');
                  $(this).children('input').val(reponse);
                }
                else if(typeof reponse === 'string' && $(this).hasClass("commentaire_in_mix") ){
                  $(this).children('input').val(reponse);
                }
                else
                {
                  if ($(this).attr('data-reponse') == reponse ){
                    $(this).addClass('active');
//                    return false;
                  }
                }
              });

            });
          }
          if (questionObject.type == "matrice"){
            var reponses = [];
            reponses = questionObject.reponses ;
            $.each(reponses, function (key,reponse){
              question.children('.form-group').each( function(){
                if(matriceType == "slider") {
                  if ($(this).children('.matrice-slider').children('input').attr('data-slider-id') == key){
                    if (question.hasClass('matrice') == true)
                    {
                      $(this).children('.matrice-slider').children('input').slider('setValue', reponse);
                      $(this).children("#SliderVal-"+ key).text(reponse);
                    }
                    return false;
                  }
                }
                else {
                  if ($(this).children('.matrice-spinner').children('.input-group').children('input').attr('id') == key){
                    if (question.hasClass('matrice') == true)
                    {
                      $(this).children('.matrice-spinner').children('.input-group').children('input').val(reponse);
                    }
                    return false;
                  }
                }

              });
            });
          }
        }
      });
    });
    }
    $('.carousel-inner').children('.item').each(function(){
      question = $(this).children().children('.profil');
      if (question){
        if (profilObject.identifiant){
          var input_identifiant = $('#identifiant');
          input_identifiant.val(profilObject.identifiant);
        }
        if (profilObject.courriel){
          var input_courriel = $('#courriel');
          input_courriel.val(profilObject.courriel);
        }
      }

    });
    questionnaireObject = JSON.parse($.fn.getStorage("questionnaire"));
    $('.carousel').carousel((questionnaireObject.itemLast-1));

    progress_val = questionnaireObject.progress_val ;
    progress_val_visu = questionnaireObject.progress_val_visu ;
    progress_val_max = questionnaireObject.progress_val_max ;
    $('.progress').show();
    var bar = $('.quizz-progress-bar');
    bar.css('width',progress_val+'%');
    bar.attr('aria-valuenow',Math.floor(progress_val_visu));
    var bar_max = $('.quizz-progress-bar-max');
    bar_max.css('width',(progress_val_max - progress_val) +'%');
    $('.nbquestion').text(Math.floor(progress_val_visu));
    $.fn.progressColor();
  }

  $.fn.sliderInit = function() {
//    $("input.slider").each( function(){
//      var text_slider = $(this).parent().parent().html();
//      $(this).parent().parent().html(text_slider+'<div class="slider-val" id="SliderVal-'+$(this).attr('id')+'">'+$(this).val()+'</div>');
      $(".matrice .form-group .matrice-slider").width($(".item.active div").width()-65);
//    });
  }

  $.fn.echelleSliderInit = function() {
//    $("input.slider").each( function(){
//      var text_slider = $(this).parent().parent().html();
//      $(this).parent().parent().html(text_slider+'<div class="slider-val" id="SliderVal-'+$(this).attr('id')+'">'+$(this).val()+'</div>');
      $(".echelle .form-group .rating-slider").width($(".item.active div").width()-65);
//    });
  }
})(jQuery);

$(document).ready(function() {
  $('body').append('<div class="modal fade" id="modal"></div>');


  if($.fn.getStorage("questionnaire") === null)
  { questionnaireObject = new Object()}
  else
  {
    try {
      questionnaireObject = JSON.parse($.fn.getStorage("questionnaire"));
    } catch(e) {
      //
    }
  }
  if (questionnaireObject && questionnaire_id != questionnaireObject.id){
    $.fn.removeStorage();
  }
  else {
  try {
    resultatArrayObject = JSON.parse($.fn.getStorage("resultat"));
    profilObject = JSON.parse($.fn.getStorage("profil"));
  } catch(e) {
    //
  }

    if(profilObject || resultatArrayObject){
      $.fn.reloadMessage();
    }
  }



  $.fn.show_hide_prev_next();

  $('.carousel').on('slid.bs.carousel', function () {
    if (action=='next'){
      $.fn.progress();
    }
    if (action=='prev'){
      $.fn.regress();
    }
    $.fn.progressColor();
    $.fn.show_hide_prev_next();
    $.fn.SetQuestionnnaire();
  })

  if(matriceType == "slider")
  {
    $("input.slider").each( function(){
      var text_slider = $(this).parent().parent().html();
      $(this).parent().parent().html(text_slider+'<div class="slider-val" id="SliderVal-'+$(this).attr('id')+'">'+$(this).val()+'</div>');
    });

    $("input.slider").each( function(){
      $(this).slider();
      $(this).on("slide slideStop", function(event) {
      	$("#SliderVal-"+ $(this).attr('id')).text(event.value);
      });
    });

    $( window ).resize(function() {
      $(".matrice .form-group .matrice-slider, .echelle .form-group .rating-slider").width($(".item.active div").width()-65);
    });
  }

$('.carousel').carousel({interval: false});

$("a.debut").click(function () { $(this).debut(); return false;});
//$("button.btn-profil").click(function () { $(this).profil(); return false;});
$("button.textarea").click(function () { $(this).textarea(); return false;});
$("a.prev").click(function () { $(this).prevQuestion(); return false;});
$("a.btn-multi").click(function () { $(this).multiQuestion(); return false;});
$("span.rating-smile span, span.rating-star span, span.rating-heart span").click(function () { $(this).echelleQuestion(); return false;});
$(".multi .open_in_mix input.form-control").keyup(function () { $(this).parent().multiQuestion(); return false;});
$(".multi .open_in_mix input.form-control").change(function () { $(this).parent().multiQuestion(); return false;});
$("a.btn-single").click(function () { $(this).singleQuestion(); return false;});
$(".single .open_in_mix input.form-control").keyup(function () { $(this).parent().singleQuestion(); return false;});
$(".single .open_in_mix input.form-control").change(function () { $(this).parent().singleQuestion(); return false;});
$("a.next").click(function () { $(this).nextQuestion(); return false;});
$("a.reload").click(function () { $(this).reloadResult(); $('#modal').modal('hide'); return false;});
$("a.remove").click(function () { $(this).removeStorage(); $('#modal').modal('hide'); return false;});
$("button.fin").click(function () { $(this).fin();});
$("a.qys_link").click(function () { $(this).qysLinkMessage();});

});

</script>


<noscript>
  <div class="alert alert-danger alert-bottom" style="position:fixed;top:0; bottom:0; left:0; right:0; margin-bottom:0 ; padding: 65px 20px">
	<div class="container">Vous devez <strong>activer Javascript</strong> sur votre navigateur pour avoir accés au questionnaire. </div>
  </div>
</noscript>

</body>

<!-- Mirrored from quizzyourself.com/questionnaire/show/cafa8503bf8b2f791fe5c484eba0532d452b5da1 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 26 Apr 2016 20:27:36 GMT -->
</html>
